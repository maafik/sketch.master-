function t937_init(e,t){var r=document.getElementById("rec"+e);if(r){var i=window.innerWidth,n=r.getAttribute("data-screen-min"),l=r.getAttribute("data-screen-max");if(n&&i<parseInt(n,10))return!1;if(l&&i>parseInt(l,10))return!1;var o=r.querySelector(".t937__playlist-wrap"),a=r.querySelector(".t937__col_video"),s=t937_parseData(e),d,c=t937_getUrlParametrs(e).activeVideoId;t937_setSizes(e,t),t937_renderVideoCount(s,e,t),t937_renderPlaylist(s,c,e,t),t937_renderVideoFrame(s,c,e,t),a&&(a.style.height=""),o&&(o.style.visibility="visible"),t937_addEvents(e,t)}}function t937_getUrlParametrs(e){var t,r,i=window.location.hash;if(i&&-1===i.indexOf("#tlection="))t=e,r=1;else{var n=i.replace("#tlection=","").split("_");r=+e==+(t=n[0])?n[1]:1}return{activeRecId:t,activeVideoId:r}}function t937_parseData(e){var t=document.getElementById("rec"+e);if(t){var r=t?t.querySelector(".t937__data"):null,i=r?r.innerHTML:"",n=[];if(i)for(var l=(i=i.replace(/&amp;/gi,"&")).split("\n"),o=0;o<l.length;o++){var a,s,d=t937_getVideoData(l[o].split(";"));(d.url||d.section)&&n.push(d)}return n}}function t937_getVideoData(e){var t=e[0].trim();if(0===t.indexOf("[")&&t.indexOf("]")===t.length-1)return{section:t.slice(1,-1)};var r=e[0]&&e[0].length?e[0].trim():null,i=e[1]?e[1].trim():null,n=e[2]?e[2].trim():null,l=e[3]?e[3].trim():null,o=null;return/youtube.com|youtu.be/gi.test(r)?o="youtube":/vimeo.com/gi.test(r)?o="vimeo":/rutube.ru/gi.test(r)?o="rutube":/kinescope.io/gi.test(r)?o="kinescope":/.mp4/gi.test(r)?o="mp4":/.webm/gi.test(r)&&(o="webm"),{url:r,title:i,time:n,description:l,type:o}}function t937_renderPlaylist(e,t,r,i){var n,l=document.getElementById("rec"+r).querySelector(".t937__playlist");l&&(l.dataVideoContent=e),l&&(l.dataPlaylistStyles=i);var o=1;t937_setSizes(r,i),l&&(l.innerHTML="");var a=i.mainColor.length?"color: "+i.mainColor+";":"",s=i.secondaryColor.length?"color: "+i.secondaryColor+";":"",d=i.borderColor.length?"border-bottom: 1px solid "+i.borderColor+";":"";t937_renderFade(r,i.bgColor);for(var c=0;c<e.length;c++){var u=e[c],m=c+1,_=Number(m)===Number(t),y;if(Object.prototype.hasOwnProperty.call(u,"section")){(y=document.createElement("div")).classList.add("t937__playlist-item"),y.classList.add("t937__playlist-item_section"),y.setAttribute("style",d);var v=document.createElement("div");v.classList.add("t937__playlist-section"),v.classList.add("t-name"),v.classList.add("t-name_xs"),v.setAttribute("style",a),v.textContent=u.section,y.insertAdjacentElement("beforeend",v)}else{var p=u.title&&u.title.length?u.title:t937_translate("videoTitle"),g=u.time?u.time:"",f=_&&i.linkBgColor.length?"background-color: "+i.linkBgColor+";":"";(y=document.createElement("div")).classList.add("t937__playlist-item"),y.setAttribute("data-video-id",m.toString()),y.setAttribute("style",d),y.setAttribute("onclick","window.t937_onVideoClick("+m+", "+r+")");var h=document.createElement("div");_?(h.classList.add("t937__playlist-link"),h.classList.add("t-text"),h.classList.add("t-text_xs"),h.classList.add("t937__playlist-link_active")):(h.classList.add("t937__playlist-link"),h.classList.add("t-text"),h.classList.add("t-text_xs")),h.setAttribute("style",f);var b=document.createElement("div");b.classList.add("t937__playlist-number"),b.setAttribute("style",s),b.textContent=o.toString();var E=document.createElement("div");E.classList.add("t937__playlist-title"),E.setAttribute("style",a),E.innerHTML=p;var w=document.createElement("div");w.classList.add("t937__playlist-time"),w.setAttribute("style",s),w.textContent=g,h.insertAdjacentElement("beforeend",b),h.insertAdjacentElement("beforeend",E),h.insertAdjacentElement("beforeend",w),y.insertAdjacentElement("beforeend",h),y.addEventListener("mousemove",(function(e){var t;e.target.closest(".t937__playlist-item").style.backgroundColor=i.linkBgColor.length?i.linkBgColor:"#F0F0F0"})),y.addEventListener("mouseout",(function(e){var t;e.target.closest(".t937__playlist-item").style.backgroundColor=""})),o++}l&&l.insertAdjacentElement("beforeend",y)}}function t937_renderVideoFrame(e,t,r){var i=document.getElementById("rec"+r),n,l,o=i?i.querySelector(".t937__video"):null,a=o?.5625*o.offsetWidth:0,s;o&&o.classList.remove("t937__video_empty");for(var d=t-1;d<e.length;d++)if(e[d].url){t937_renderDescription(l=e[d],r);break}var c={height:a,type:l?l.type:""};if(e.length&&l&&l.type){if("youtube"===l.type){var u=/youtu(?:.*\/v\/|.*v=|\.be\/)([A-Za-z0-9_-]{11})/;null!==(s=l.url.match(u))&&(s=s[1]),c.src="https://www.youtube.com/embed/"+s+"?rel=0&fmt=18&html5=1&enablejsapi=1",n=t937_createIframe(c)}else if("vimeo"===l.type){var m=/vimeo[^/]*\/(\d+)\/?(\w*)\/?/i.exec(l.url);s=m?m[1]:null;var _=m?"?h="+m[2]:null,y=/#t=(\d*h)?(\d*m)?\d*s$/i.exec(l.url),v=y?"/"+y[0]:"";s?(c.src="https://player.vimeo.com/video/"+s+_+v,n=t937_createIframe(c)):(o&&o.classList.add("t937__video_empty"),(n=document.createElement("div")).classList.add("t937__system-message"),n.textContent=t937_translate("wrongFormat"))}else if("kinescope"===l.type){var p=/kinescope\.io\/(?:embed\/|pl\/)?([a-zA-Z0-9-]+)/,g,f=!!(g=l.url.match(p))&&g[1];c.src="https://kinescope.io/embed/"+f,n=t937_createIframe(c)}else if("rutube"===l.type){var p=/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru\/(?:shorts|video|play\/embed|embed|video\/private)\/)([a-f0-9]{32})(?:\/\?p=([a-zA-Z0-9_]+))?/,g,f=!!(g=l.url.match(p))&&g[1],h=!!g&&g[2];c.src="https://rutube.ru/embed/"+f+(h?"?p="+h:""),n=t937_createIframe(c)}else if("mp4"===l.type||"webm"===l.type){(n=document.createElement("video")).classList.add("t937__video-frame"),n.classList.add("t937__video-frame_html5"),n.controls=!0,n.title="html5-player",n.style.width="100%",n.height=a;var b=document.createElement("source"),E="video/"+l.type;b.src=l.url,b.setAttribute("type",E),n.insertAdjacentElement("afterbegin",b)}}else o&&o.classList.add("t937__video_empty"),(n=document.createElement("div")).classList.add("t937__system-message"),n.textContent=e.length?t937_translate("wrongFormat"):t937_translate("noData");o&&(o.innerHTML="",o.insertAdjacentElement("beforeend",n))}function t937_createIframe(e){var t=document.createElement("iframe"),r="t937__video-frame_"+e.type;return t.classList.add("t937__video-frame"),t.classList.add(r),t.width="100%",t.height=e.height,t.src=e.src,t.frameBorder="0",t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay; fullscreen; picture-in-picture; encrypted-media; gyroscope; accelerometer; clipboard-write;"),t}function t937_renderDescription(e,t){var r=document.getElementById("rec"+t),i=r?r.querySelector(".t937__col_description"):null,n=i?i.querySelector(".t937__video-title"):null,l=i?i.querySelector(".t937__video-description"):null;if(i&&i.classList.add("t937__col_hidden"),n&&(n.innerHTML=""),l&&(l.innerHTML=""),e.description){i&&i.classList.remove("t937__col_hidden");var o=e.title&&e.title.length?e.title:t937_translate("videoTitle");l.innerHTML=e.description,n.innerHTML=o}}function t937_renderVideoCount(e,t,r){var i=document.getElementById("rec"+t),n=i?i.querySelector(".t937__subheading-title"):null,l=i?i.querySelector(".t937__subheading-icon"):null,o=0,a=r.secondaryColor.length?r.secondaryColor.replace("#","%23"):"%23111111";for(var s in l&&(l.style.backgroundImage="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' width='16' height='16'%3E%3Ctitle%3Evideo playlist%3C/title%3E%3Cg class='nc-icon-wrapper' stroke-width='1' fill='"+a+"' stroke='"+a+"'%3E%3Crect x='0.5' y='2.5' width='15' height='12' rx='1' fill='none' stroke='"+a+"' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpolygon points='6.5 5.5 11.5 8.5 6.5 11.5 6.5 5.5' fill='none' stroke-linecap='round' stroke-linejoin='round' data-color='color-2'/%3E%3Cline x1='3.5' y1='0.5' x2='12.5' y2='0.5' fill='none' stroke='"+a+"' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3C/svg%3E\""),e)e[s].section||o++;var d=t937_translate("videoPart");n&&(n.textContent=o+" "+d)}function t937_renderFade(e,t){t=t.length?t:"#ffffff";var r=document.getElementById("rec"+e),i=r?r.querySelector(".t937__playlist-fade"):null,n=t937_hex2rgb(t,0),l=t937_hex2rgb(t,1);i&&(i.style.backgroundImage="linear-gradient("+n+" 0%, "+l+" 90%)")}function t937_setSizes(e,t){var r=document.getElementById("rec"+e),i=r?r.querySelector(".t937__playlist-wrap"):null,n=r?r.querySelector(".t937__video-frame"):null,l=r?r.querySelector(".t937__col_playlist"):null,o=r?r.querySelector(".t937__description"):null,a=r?r.querySelector(".t937__video"):null,s=a?a.offsetWidth:0,d=.5625*s;n&&n.setAttribute("height",d.toString()),window.innerWidth>=960?(o&&(o.style.width=s+"px"),i&&(i.style.height=d+"px"),i&&(i.style.maxHeight=""),t.playlistWidth.length&&l&&(l.style.width=parseInt(t.playlistWidth,10)+"px")):(i&&(i.style.maxHeight=d+"px"),i&&(i.style.height=""),l&&(l.style.width=""),o&&(o.style.width=""))}function t937_translate(e){var t=[];t.videoTitle={RU:"Без названия",EN:"Untitled video",FR:"Vidéo sans titre",DE:"Video ohne Titel",ES:"Video sin título",PT:"Bez tytułu wideo",UK:"Відео без назви",JA:"無題の動画",ZH:"无标题的视频",PL:"Bez tytułu"},t.videoPart={RU:"видео",EN:"videos",FR:"vidéos",DE:"videos",ES:"videos",PT:"filmy",UK:"відео",JA:"ビデオ",ZH:"影片",PL:"video"},t.noData={RU:"Пожалуйста, добавьте хотя бы одно видео в плейлист",EN:"Please add at least one video to the playlist",UK:"Будь ласка, додайте хоча б одне відео в плейлист",PL:"Proszę dodać jeden filmik do listy"},t.wrongFormat={RU:"Пожалуйста, проверьте корректность заполненных данных",EN:"Please check that the data is filled in correctly",UK:"Будь ласка, перевірте коректність заповнених даних",PL:"Sprawdź poprawność danych"};var r=(window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2),i=document.getElementById("allrecords");if(i){var n=i.getAttribute("data-tilda-project-lang");n&&(r=n)}return void 0!==t[e]?void 0!==t[e][r]&&""!==t[e][r]?t[e][r]:t[e].EN:"Text not found #"+e}function t937_hex2rgb(e,t){var r=e.replace("#","");r=r.match(new RegExp("(.{"+r.length/3+"})","g"));for(var i=0;i<r.length;i++)r[i]=parseInt(1===r[i].length?r[i]+r[i]:r[i],16);return void 0!==t&&r.push(t),"rgba("+r.join(",")+")"}function t937_addEvents(e,t){if(window.addEventListener("resize",t_throttle((function(){t937_setSizes(e,t)}))),"undefined"!=typeof jQuery)$(".t937").bind("displayChanged",(function(){t937_setSizes(e,t)}));else{var r=document.querySelectorAll(".t937");Array.prototype.forEach.call(r,(function(r){r.addEventListener("displayChanged",(function(){t937_setSizes(e,t)}))}))}var i=document.getElementById("rec"+e),n=i?i.querySelector(".t937__playlist-wrap"):null,l=i?i.querySelector(".t937__playlist-fade"):null;n&&n.addEventListener("scroll",(function(){var r,i,o,a;n.offsetHeight+n.scrollTop>=n.scrollHeight-30?l&&(l.style.backgroundImage=""):t937_renderFade(e,t.bgColor)}))}function t937_onVideoClick(e,t){var r=document.getElementById("rec"+t),i=r?r.querySelector(".t937__playlist"):null,n=i?i.dataVideoContent:null,l=i?i.dataPlaylistStyles:null;window.location.hash="tlection="+t+"_"+e,t937_renderPlaylist(n,e,t,l),t937_renderVideoFrame(n,e,t,l),t937_playVideo(t)}function t937_playVideo(e){var t=document.getElementById("rec"+e),r=t?t.querySelector(".t937__video-frame"):null;r&&r.classList.contains("t937__video-frame_youtube")&&r.addEventListener("load",(function(){var e="playVideo";r.contentWindow.postMessage('{"event":"command","func":"'+e+'","args":""}',"*")}))}"loading"!==document.readyState?document.body&&(document.body.style["-webkit-text-size-adjust"]="100%"):document.addEventListener("DOMContentLoaded",(function(){document.body&&(document.body.style["-webkit-text-size-adjust"]="100%")}));